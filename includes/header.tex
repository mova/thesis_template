% language support
\usepackage[english, ngerman]{babel}
\usepackage{csquotes}


%% blindtext
\usepackage{lipsum}

% absolute text positioning
\usepackage{textpos}
% simple programming stuff like ifdef
\usepackage{etoolbox}
\usepackage{xparse}
% used to modify geometry of titlepage
\usepackage[pass]{geometry}

%%%% math packages and symbols
\usepackage{amsmath,amssymb,amstext,amsthm,bm}
\usepackage{hepparticles}
\usepackage{heppennames2}
% consistent SI units
\usepackage{siunitx}
\DeclareSIUnit[] \pbinv{\per \pico \barn}
\DeclareSIUnit[] \fbinv{\per \femto \barn}

%set the fonts
%the order must be amsmath>hepparticles>unicode-math>fontspec
\usepackage[
    math-style=ISO,
    bold-style=ISO,
    nabla=upright
]{unicode-math}
\setmathfont{Libertinus Math}
\setmathrm{Libertinus Serif}
\usepackage{fontspec}
\setmainfont[RawFeature=+kern;+liga;+calt]{Libertinus Serif}
\setsansfont{Libertinus Sans}
%Unify subscript depths
\usepackage{subdepth}

%set options for the ptdr-definitions
\usepackage{ifthen}
\newboolean{cms@external}
\setboolean{cms@external}{false}
%to allow for italic formatting
\newboolean{cms@italic}
\setboolean{cms@italic}{false}
% includes macros for commonly used symbols
\usepackage{ptdr-definitions}




% \usepackage{changepage}
% \usepackage{color,graphicx}
\usepackage{color,graphicx}


%xspace command for automatic spacing of shortcuts
\usepackage{xspace}
\xspaceaddexceptions{''}
\xspaceaddexceptions{“}
\xspaceaddexceptions{«}

%number lines for review
% \usepackage{lineno}
% \linenumbers

% for the tables
\usepackage{booktabs}
\usepackage{longtable}
\usepackage{rotating}
\usepackage{dcolumn}
%%% new columntype cetering the decimal dot 
\newcolumntype{d}{D{.}{.}{-2}}
\newcolumntype{C}[1]{>{\centering\arraybackslash}p{#1\textwidth}}
% cells with linebreaks
\usepackage{makecell}
% footnotes in tables
\usepackage{threeparttable}
% make them the footnotes footnotesize
\appto\TPTnoteSettings{\footnotesize}


%%% Settings for itemize / enumerate / description
%% inline list  with the enumerate* enviroment
\usepackage[inline]{enumitem}
\setlist[description]{%
  topsep=13pt,               % space before start / after end of list
  itemsep=4pt,               % space between items
  font={\normalfont\itshape}, % set the label font
  labelsep=7pt,
}
%new list type with no spacing
\newlist{nosepitemize}{itemize}{3}
\setlist[nosepitemize]{
  topsep=3pt,               % space before start / after end of list
  itemsep=0pt,               % space between items
  parsep=0pt,
  partopsep=0pt,
  label=\textbullet,
}


% graphics support
\usepackage{graphicx}
%% coustom stuff for graphics
\usepackage{pgf}
\usepackage{import}
\usepackage{neuralnetwork}
\usepackage{tikz}

% page header style
\usepackage[headsepline]{scrlayer-scrpage} 
\pagestyle{scrheadings} 

% side captions
\usepackage[rightcaption]{sidecap}
\sidecaptionvpos{figure}{c}
\usepackage{pdflscape}

\usepackage{float}
% Customising captions in floating environments
\usepackage[labelfont={bf}]{caption}
\captionsetup[table]{labelsep=space}
\captionsetup[figure]{labelsep=space}
% \captionsetup{singlelinecheck=off}
\usepackage{subcaption}
\captionsetup{subrefformat=parens}
\captionsetup[sub]{font=small}
%% indent between »Figure 1.2« and the descrition in the following line
\setcapindent{0em}

% Place all floats in their section
\usepackage[section,below]{placeins}

\usepackage{url}

% todo notes
\usepackage[
    colorinlistoftodos,
    % disable,
    figwidth=.75\textwidth]{todonotes}
\providecommand{\todoi}[1]{\todo[inline]{#1}}

%Typeset source code listings using LATEX
% \usepackage{listings} 
% \lstset{numbers=left, numberstyle=\tiny, numbersep=5pt} 

% Extensive support for hypertext in LATEX
\usepackage{hyperref}
\hypersetup{linktoc=all,
  hidelinks,
  breaklinks=true,
  hyperindex,
  unicode=true,
  pdfpagemode=UseNone,
  pdftitle={Standard Model H→ττ Analysis},
  pdfauthor={Max Mustermann},
  bookmarksopen=true,
  linkcolor=[RGB]{0, 28, 127},
  urlcolor=[RGB]{0, 28, 127},
  citecolor=[RGB]{0, 28, 127}
}

% Create glossaries and lists of acronyms
% \usepackage[nomain,
%     acronym,
%     xindy,
%     toc,
%     section=chapter,
%     numberedsection=nolabel]{glossaries} 
% \makeglossaries 
% \input{includes/abbrev}

% defines the style of the chapter headings
% chapter style, requires chapterprefix=true
\newcommand\titlerule[1][1pt]{\rule{\textwidth}{#1}}
\renewcommand*{\chapterformat}{%
  \parbox{\textwidth}{\Large\hfill\MakeUppercase{\chapappifchapterprefix{\,}} \Huge\thechapter\enskip}}
  \renewcommand\chapterlineswithprefixformat[3]{%
    #2\nobreak%
    \ifstr{#2}{}{}{\vspace*{-\dp\strutbox}}%
    \titlerule\par\vspace{2ex}\nobreak%
    {\LARGE\centering#3}%
    \vspace{2ex}\nobreak\titlerule\vspace{1ex}\nobreak\noindent%
  }
\addtokomafont{disposition}{\normalfont\bfseries}
\addtokomafont{chapterprefix}{\bfseries\scshape}
\RedeclareSectionCommand[beforeskip=0pt,afterskip=.5cm]{chapter}

\makeatletter
\renewcommand\paragraph{\@startsection{paragraph}{4}{\z@}%
	{-2.5ex\@plus -1ex \@minus -.25ex}%
	{1.25ex \@plus .25ex}%
	{\normalfont\normalsize\bfseries}}
\makeatother

% Depth of the numbering
% 1 chap 2 sec 3 subsec 4 paragrap
\setcounter{secnumdepth}{3}
% Depth of the TOC
% 1 chap 2 sec 3 subsec 4 paragrap
\setcounter{tocdepth}{3}

\usepackage{scrhack}
% ignores pdflatex warning which occurs for matplotlib plots and is a false warning
% \pdfsuppresswarningpagegroup=1

%%%%% Addtional packages and own definitions
\usepackage{vardict}
\usepackage{tablebracket}

%%% use this to store your own commands
\input{includes/commands}

% biber settings
\input{includes/citing.tex}

%include own shortcuts
\input{includes/shortcuts.tex}